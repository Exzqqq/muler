# Muler - Drug Information Search Application

## ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏â‡∏ö‡∏±‡∏ö‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢

---

## üèóÔ∏è ‡πÅ‡∏´‡∏•‡πà‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏≤‡∏Ç‡∏≠‡∏á Application

**Muler** ‡πÄ‡∏õ‡πá‡∏ô Application ‡∏ó‡∏µ‡πà Fork ‡∏°‡∏≤‡∏à‡∏≤‡∏Å [PizzaMyHeart/muler](https://github.com/PizzaMyHeart/muler) ‡πÅ‡∏•‡∏∞‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ï‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°

- **Original Repository**: [PizzaMyHeart/muler](https://github.com/PizzaMyHeart/muler)
- **Original Discussion**: [Reddit - My first Python app](https://www.reddit.com/r/Python/comments/kbzkmv/my_first_python_app_a_simple_search_engine_for/)
- **Forked & Enhanced by**: Exzqqq (Current Repository)
- **‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏´‡∏•‡πà‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏≤**: [DrugBank Dataset](https://go.drugbank.com/releases/latest)
- **License**: CC BY-NC 4.0
- **Current Repository**: https://github.com/Exzqqq/muler

---

## üîÑ ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÅ‡∏•‡∏∞‡∏û‡∏±‡∏í‡∏ô‡∏≤

### ‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏à‡∏≤‡∏Å Original Repository:

**Original Features (PizzaMyHeart/muler)**:

- Basic Flask web application
- SQLite database
- Simple drug search functionality
- Single language (English) support

### ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÉ‡∏´‡∏ç‡πà‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°:

1. **Database Migration**: ‡∏à‡∏≤‡∏Å SQLite ‡πÄ‡∏õ‡πá‡∏ô MySQL ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö production
2. **Containerization**: ‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô Docker-based deployment
3. **Environment Management**: ‡πÄ‡∏û‡∏¥‡πà‡∏° environment variables ‡πÅ‡∏•‡∏∞ .env configuration
4. **Multi-language Support**: ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡πÅ‡∏•‡∏∞‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏© (‡πÉ‡∏´‡∏°‡πà)
5. **Production Ready**: ‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á
6. **Database Administration**: ‡πÄ‡∏û‡∏¥‡πà‡∏° phpMyAdmin interface
7. **Health Checks & Monitoring**: ‡πÄ‡∏û‡∏¥‡πà‡∏° container health monitoring

### ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÄ‡∏ä‡∏¥‡∏á‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ:

- ‡∏≠‡∏±‡∏û‡πÄ‡∏Å‡∏£‡∏î Flask ‡∏à‡∏≤‡∏Å 1.1.2 ‡πÄ‡∏õ‡πá‡∏ô 2.3.3
- ‡πÄ‡∏û‡∏¥‡πà‡∏° cryptography package ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö MySQL authentication
- ‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á database connection management
- ‡πÄ‡∏û‡∏¥‡πà‡∏° health checks ‡πÅ‡∏•‡∏∞ restart policies
- ‡πÄ‡∏û‡∏¥‡πà‡∏° Docker Compose orchestration
- ‡πÄ‡∏û‡∏¥‡πà‡∏° persistent volume ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö database
- ‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á security ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ environment variables

### ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å Original:

| Feature            | Original (PizzaMyHeart) | Enhanced (Exzqqq) |
| ------------------ | ----------------------- | ----------------- |
| Database           | SQLite                  | MySQL 8.0         |
| Deployment         | Manual                  | Docker Compose    |
| Languages          | English only            | Thai + English    |
| Admin Interface    | None                    | phpMyAdmin        |
| Environment Config | Hardcoded               | .env file         |
| Production Ready   | Development             | Production        |

---

## üõ†Ô∏è Tech Stack

### Backend:

- **Framework**: Flask 2.3.3 (Python Web Framework)
- **Database**: MySQL 8.0 (Production Database)
- **ORM**: SQLAlchemy (Database Abstraction)
- **Authentication**: cryptography>=3.4.8 (MySQL Security)

### Frontend:

- **Template Engine**: Jinja2 (Flask built-in)
- **Styling**: CSS3 + Custom Stylesheets
- **JavaScript**: Vanilla JS (Dynamic interactions)
- **Internationalization**: Flask-Babel (Multi-language support)

### Infrastructure:

- **Containerization**: Docker & Docker Compose
- **Database Admin**: phpMyAdmin (Web-based MySQL management)
- **Process Management**: Gunicorn (WSGI Server)
- **Networking**: Docker Bridge Network

### Dependencies:

```
Flask==2.3.3
Flask-Babel==4.0.0
PyMySQL==1.1.1
cryptography>=3.4.8
fuzzywuzzy==0.18.0
googletrans==4.0.0rc1
```

---

## üì± Screenshots ‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ç‡∏≠‡∏á Application

### 1. ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å (Home Page)

![Home Page](search.png)

- **‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå**: ‡∏ä‡πà‡∏≠‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏¢‡∏≤‡∏î‡πâ‡∏ß‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏´‡∏£‡∏∑‡∏≠‡∏ä‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏≤
- **‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô**: ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏•‡∏±‡∏ö‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢/‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©‡πÑ‡∏î‡πâ
- **UI**: Clean ‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢

### 2. ‡∏´‡∏ô‡πâ‡∏≤‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå (Results Page)

![Results Page](result.png)

- **‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå**: ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏¢‡∏≤‡∏ó‡∏µ‡πà‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏†‡∏™‡∏±‡∏ä‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤
- **‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô**: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô‡∏à‡∏≤‡∏Å DrugBank dataset
- **UI**: ‡∏à‡∏±‡∏î‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏á‡πà‡∏≤‡∏¢

---

## üê≥ Docker Images ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ

### 1. **mysql:8.0** (Official MySQL Image)

- **Purpose**: Production database server
- **Configuration**:
  - Character set: utf8mb4 (‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢)
  - Authentication: caching_sha2_password
  - Port: 3306
- **Volumes**: Persistent data storage
- **Health Check**: mysqladmin ping command

### 2. **phpmyadmin/phpmyadmin:latest** (Official phpMyAdmin)

- **Purpose**: Web-based database administration
- **Configuration**:
  - Connected to MySQL service
  - Port: 8081 (external)
- **Features**: Complete database management interface

### 3. **python:3.12-slim** (Custom Flask Application)

- **Base Image**: python:3.12-slim (Debian-based)
- **Build Type**: Single-stage build
- **System Dependencies**:
  ```dockerfile
  gcc
  default-libmysqlclient-dev
  pkg-config
  ```
- **Application Port**: 5000 (internal), 5001 (external)

---

## üèóÔ∏è Build Process ‡πÅ‡∏•‡∏∞ Base Image

### Single-Stage Build Strategy:

```dockerfile
FROM python:3.12-slim

# System dependencies installation
RUN apt-get update && apt-get install -y \
    gcc \
    default-libmysqlclient-dev \
    pkg-config

# Python dependencies
RUN pip install --no-cache-dir -r requirements.txt

# Application code
COPY . .
```

### ‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Single-stage:

- **‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏á‡πà‡∏≤‡∏¢**: ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Flask application
- **‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°**: python:3.12-slim ‡∏°‡∏µ‡∏Ç‡∏ô‡∏≤‡∏î‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î
- **Development Friendly**: Easy debugging ‡πÅ‡∏•‡∏∞ development

---

## üîß System Diagram

```mermaid
graph TB
    subgraph "Host System"
        Browser[Web Browser]
        Browser --> |"HTTP :5001"| FlaskApp
    end

    subgraph "Docker Network: muler_network"
        FlaskApp[Flask Application<br/>Container: muler_flask<br/>Port: 5000‚Üí5001]
        MySQL[MySQL Database<br/>Container: muler_mysql<br/>Port: 3306]
        PHPMyAdmin[phpMyAdmin<br/>Container: muler_phpmyadmin<br/>Port: 80‚Üí8081]

        FlaskApp --> |"mysql://mysql:3306"| MySQL
        PHPMyAdmin --> |"mysql://mysql:3306"| MySQL
    end

    subgraph "Volumes"
        MySQLData[mysql_data<br/>Persistent Storage]
        MySQL --> MySQLData
    end

    subgraph "External Access"
        AdminPanel[Database Admin<br/>localhost:8081]
        MainApp[Main Application<br/>localhost:5001]
    end

    Browser --> |"Access"| MainApp
    Browser --> |"Admin"| AdminPanel
```

### Port Mapping:

- **Flask Application**: `5001:5000` (External:Internal)
- **MySQL Database**: `3306:3306` (External:Internal)
- **phpMyAdmin**: `8081:80` (External:Internal)

### Network Configuration:

- **Network Type**: Bridge Network
- **Network Name**: `muler_network`
- **Inter-container Communication**: Service name resolution
- **Security**: Isolated from host network

---

## üìÑ Docker Compose Configuration

### ‡πÑ‡∏ü‡∏•‡πå docker-compose.yml:

```yaml
version: "3.8"

services:
  # MySQL Database Service
  mysql:
    image: mysql:8.0
    container_name: muler_mysql
    restart: unless-stopped
    environment:
      MYSQL_ROOT_PASSWORD: ${MYSQL_ROOT_PASSWORD}
      MYSQL_DATABASE: ${MYSQL_DATABASE}
      MYSQL_USER: ${MYSQL_USER}
      MYSQL_PASSWORD: ${MYSQL_PASSWORD}
    ports:
      - "3306:3306"
    volumes:
      - mysql_data:/var/lib/mysql
      - ./muler/database/muler.sql:/docker-entrypoint-initdb.d/muler.sql:ro
    networks:
      - muler_network
    healthcheck:
      test: ["CMD", "mysqladmin", "ping", "-h", "localhost"]
      timeout: 20s
      retries: 10

  # Database Administration
  phpmyadmin:
    image: phpmyadmin/phpmyadmin:latest
    container_name: muler_phpmyadmin
    restart: unless-stopped
    environment:
      PMA_HOST: mysql
      PMA_PORT: ${MYSQL_PORT}
      PMA_USER: ${MYSQL_USER}
      PMA_PASSWORD: ${MYSQL_PASSWORD}
    ports:
      - "${PHPMYADMIN_PORT}:80"
    depends_on:
      mysql:
        condition: service_healthy
    networks:
      - muler_network

  # Flask Application
  flask_app:
    build: .
    container_name: muler_flask
    restart: unless-stopped
    environment:
      - FLASK_ENV=production
      - DATABASE_URL=mysql+pymysql://${MYSQL_USER}:${MYSQL_PASSWORD}@mysql:${MYSQL_PORT}/${MYSQL_DATABASE}
    ports:
      - "${FLASK_PORT}:5000"
    depends_on:
      mysql:
        condition: service_healthy
    networks:
      - muler_network
    volumes:
      - .:/app

volumes:
  mysql_data:

networks:
  muler_network:
    driver: bridge
```

### Environment Variables (.env):

```env
# Database Configuration
MYSQL_ROOT_PASSWORD=muler_root_password
MYSQL_DATABASE=muler
MYSQL_USER=muler_user
MYSQL_PASSWORD=muler_password
MYSQL_PORT=3306

# Application Ports
FLASK_PORT=5001
PHPMYADMIN_PORT=8081

# Flask Configuration
FLASK_ENV=production
```

---

## üöÄ ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### 1. ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏° Environment:

```bash
cp .env.example .env
# ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ñ‡πà‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡πÉ‡∏ô .env file
```

### 2. ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô:

```bash
docker compose up -d
```

### 3. ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á Services:

- **Main Application**: http://localhost:5001
- **Database Admin**: http://localhost:8081
- **Database Direct**: mysql://localhost:3306

### 4. ‡∏´‡∏¢‡∏∏‡∏î‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô:

```bash
docker compose down
```

---

## üìä ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡πÄ‡∏î‡πà‡∏ô

1. **Multi-language Support**: ‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢/‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©
2. **Drug Search**: ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏î‡πâ‡∏ß‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏¢‡∏≤‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏´‡∏£‡∏∑‡∏≠‡∏ä‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏≤
3. **Comprehensive Data**: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏†‡∏™‡∏±‡∏ä‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô‡∏à‡∏≤‡∏Å DrugBank
4. **Production Ready**: Docker containerization
5. **Easy Deployment**: One-command deployment
6. **Database Management**: Web-based admin interface
7. **Persistent Data**: Volume-based data storage

---

_‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ô‡∏µ‡πâ‡∏à‡∏±‡∏î‡∏ó‡∏≥‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ô‡∏≥‡πÄ‡∏™‡∏ô‡∏≠‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå Muler Drug Information Search Application_
